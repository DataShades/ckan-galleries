{% set form_action = h.url_for('manage_assets', id=id, resource_id=resource_id  ) %}
{% extends "package/resource_edit_base.html" %}

{% block subtitle %}{{ _('Manage assets') }} - {{ h.resource_display_name(c.resource) }} - {{ h.dataset_display_name(c.pkg_dict) }}{% endblock %}

{% block form %}
{% endblock %}

{% block primary_content_inner %}
  {% if assets %}

  <table class="table table-striped table-bordered table-condensed ">
    <thead>
      <tr>
        <th>Link to gallery</th>
        <th>Link to resource</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for asset in assets %}
      <tr>
        <td><a class='' href="/view/item/{{asset.id}}/{{asset.assetID}}">ID:{{asset._id}}: {{ asset.name }}</a></td>
        <td><a class='' href="{{ h.url_for( controller='package', action='resource_read', id=c.pkg_dict.id, resource_id=c.resource.id) }}">AssetID: {{ asset.assetID }}</a></td>
        <td class="asset-actions" data-module="asset-actions" data-module-id="{{ c.resource.id }}" data-module-asset="{{ asset.assetID }}" data-module-url="{{ action_url }}">
          <i class="icon-remove remove-action" title="Remove"></i>
          <i class="icon-eye-close hide-action" title="Hide"></i>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {{ c.page.pager() }}
  {% else %}
   {{ _('Datastore not exists') }}
  {% endif %}
{% endblock %}

{% block secondary_content %}
  <div class="module module-narrow module-shallow">
    <h2 class="module-heading">
      <i class="icon-info-sign"></i>
      {{ _('Manage asset') }}
    </h2>
    <div class="module-content">
      {% trans %}
        <p><strong>Info:</strong> Here you can hide or remove separate assets</p>
      {% endtrans %}
    </div>
  </div>
{% endblock %}